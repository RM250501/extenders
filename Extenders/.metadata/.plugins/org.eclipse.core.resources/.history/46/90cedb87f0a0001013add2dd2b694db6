
// エンドポイント
console.log(ec2_ip);
const ws = new WebSocket("ws://" + ec2_ip + ":8080/WebSocketSchool/chat");

$(function() {


	$("#submitButton").click(function() {
		let messageInput = document.getElementById("messageInput");
		sendMessage(messageInput.value);
		messageInput.value = "";
	});
});

// サーバからメッセージを受信したときの処理
ws.onmessage = function(event) {
	let chatHistory = document.getElementById("chatHistory");
	chatHistory.value = chatHistory.value + event.data + "\n";
}

// サーバにメッセージを送るためのメソッド
function sendMessage(value) {
	setTimeout(function() {
		ws.send("me" + value);
	}, 300);
}
